const net = require('net');

const socket = net.createConnection({ host: 'localhost', port: 8050 }, () => {
	const head = Buffer.from(
		'504f5354202f6372656174652d706f737420485454502f312e310d0a436f6e74656e742d547970653a206170706c69636174696f6e2f6a736f6e0d0a6e616d653a20416e6b7573680d0a486f73743a206c6f63616c686f73743a383035300d0a436f6e6e656374696f6e3a206b6565702d616c6976650d0a436f6e74656e742d4c656e6774683a2038360d0a0d0a',
		'hex'
	);

	const body = Buffer.from(
		'7b227469746c65223a225469746c65206f66206d7920706f737421222c22626f6479223a225468697320697320736f6d652064656d6f2074657874206f6e6c7920666f722074657374696e6720707572706f7365227d',
		'hex'
	);

	socket.write(Buffer.concat([head, body]));
});

socket.on('data', (chunk) => {
	console.log('Received Response!');
	console.log(chunk.toString('utf-8'));
	console.log(chunk.toString('hex'));
	socket.end();
});

socket.on('end', () => {
	console.log('Connection is closed');
});

// -------------------------------

/*

0000   18 00 00 00 60 09 db 83 00 f8 06 80 00 00 00 00   ....`...........
0010   00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00   ................
0020   00 00 00 00 00 00 00 00 00 00 00 01 d1 2d 1f 72   .............-.r
0030   4d ab 94 b6 bc 0e 90 fc 50 18 04 fe 5f ae 00 00   M.......P..._...
0040   50 4f 53 54 20 2f 63 72 65 61 74 65 2d 70 6f 73   POST /create-pos
0050   74 20 48 54 54 50 2f 31 2e 31 0d 0a 43 6f 6e 74   t HTTP/1.1..Cont
0060   65 6e 74 2d 54 79 70 65 3a 20 61 70 70 6c 69 63   ent-Type: applic
0070   61 74 69 6f 6e 2f 6a 73 6f 6e 0d 0a 6e 61 6d 65   ation/json..name
0080   3a 20 41 6e 6b 75 73 68 0d 0a 48 6f 73 74 3a 20   : Ankush..Host: 
0090   6c 6f 63 61 6c 68 6f 73 74 3a 38 30 35 30 0d 0a   localhost:8050..
00a0   43 6f 6e 6e 65 63 74 69 6f 6e 3a 20 6b 65 65 70   Connection: keep
00b0   2d 61 6c 69 76 65 0d 0a 43 6f 6e 74 65 6e 74 2d   -alive..Content-
00c0   4c 65 6e 67 74 68 3a 20 38 36 0d 0a 0d 0a 7b 22   Length: 86....{"
00d0   74 69 74 6c 65 22 3a 22 54 69 74 6c 65 20 6f 66   title":"Title of
00e0   20 6d 79 20 70 6f 73 74 21 22 2c 22 62 6f 64 79    my post!","body
00f0   22 3a 22 54 68 69 73 20 69 73 20 73 6f 6d 65 20   ":"This is some 
0100   64 65 6d 6f 20 74 65 78 74 20 6f 6e 6c 79 20 66   demo text only f
0110   6f 72 20 74 65 73 74 69 6e 67 20 70 75 72 70 6f   or testing purpo
0120   73 65 22 7d                                       se"}


180000006009db8300f806800000000000000000000000000000000100000000000000000000000000000001d12d1f724dab94b6bc0e90fc501804fe5fae0000
504f5354202f6372656174652d706f737420485454502f312e310d0a436f6e74656e742d547970653a206170706c69636174696f6e2f6a736f6e0d0a6e616d653a20416e6b7573680d0a486f73743a206c6f63616c686f73743a383035300d0a436f6e6e656374696f6e3a206b6565702d616c6976650d0a436f6e74656e742d4c656e6774683a2038360d0a0d0a7b227469746c65223a225469746c65206f66206d7920706f737421222c22626f6479223a225468697320697320736f6d652064656d6f2074657874206f6e6c7920666f722074657374696e6720707572706f7365227d

*/
